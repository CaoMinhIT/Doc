{"ast":null,"code":"var _jsxFileName = \"D:\\\\doan-js\\\\Doc\\\\font-end\\\\src\\\\components\\\\pages\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport classes from \"./Login.module.css\";\nimport { login } from \"../../../api/userApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const submitHandler = async event => {\n    event.preventDefault();\n    try {\n      const res = await login(emailInputRef.current.value, passwordInputRef.current.value);\n      if (res.data) {\n        localStorage.setItem('access-token', res.data.accessToken);\n        localStorage.setItem('user', JSON.stringify(res.data.user));\n        navigate('/home');\n      }\n    } catch (error) {\n      setError(error.response.data);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.background_image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.auth,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes.title,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            required: true,\n            ref: emailInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            required: true,\n            ref: passwordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.error,\n          children: error ? `Lỗi: ${error}` : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: classes.button_regis,\n            to: \"/register\",\n            children: \"\\u0110\\u0103ng k\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: classes.button,\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }, this);\n};\n_s(Login, \"2RrNxgpVrrh1CMpQ+F3O+rknIro=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useState","Link","useNavigate","classes","login","Login","emailInputRef","passwordInputRef","error","setError","navigate","submitHandler","event","preventDefault","res","current","value","data","localStorage","setItem","accessToken","JSON","stringify","user","response","container","background_image","auth","title","control","actions","button_regis","button"],"sources":["D:/doan-js/Doc/font-end/src/components/pages/Login/Login.js"],"sourcesContent":["import React, { useRef, useState } from \"react\"\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport classes from \"./Login.module.css\"\r\nimport { login } from \"../../../api/userApi\";\r\n\r\nconst Login = () =>{\r\n    const emailInputRef = useRef();\r\n    const passwordInputRef = useRef();\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate();\r\n    const submitHandler = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n          const res = await login(emailInputRef.current.value, passwordInputRef.current.value);\r\n          if(res.data){\r\n            localStorage.setItem('access-token', res.data.accessToken);\r\n            localStorage.setItem('user', JSON.stringify(res.data.user));\r\n            navigate('/home');\r\n          }\r\n        } catch (error) {\r\n          setError(error.response.data);\r\n        }\r\n       \r\n    }\r\n\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.background_image}></div>\r\n        <section className={classes.auth}>\r\n          <h1 className={classes.title}>Login</h1>\r\n          <form onSubmit={submitHandler}>\r\n            <div className={classes.control}>\r\n              <label htmlFor='email'>Email</label>\r\n              <input \r\n                type='email' \r\n                id='email' \r\n                required \r\n                ref={emailInputRef} \r\n              />\r\n            </div>\r\n            <div className={classes.control}>\r\n              <label htmlFor='password'>Mật khẩu</label>\r\n              <input \r\n                type='password' \r\n                id='password' \r\n                required \r\n                ref={passwordInputRef} \r\n              />\r\n            </div>\r\n            <p className={classes.error}>{error ? `Lỗi: ${error}` : ''}</p>\r\n            <div className={classes.actions}>\r\n              <Link\r\n                className={classes.button_regis}\r\n                to=\"/register\"\r\n              >\r\n                Đăng ký\r\n              </Link>\r\n              <button\r\n                type='submit'\r\n                className={classes.button}\r\n              >\r\n                Đăng nhập\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    );\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}